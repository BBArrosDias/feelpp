h = 0.2;
r1=1;
r2=2;
he=2.5;
rm=7.5;
rinf=15;
angle=Pi/4;

Point(2) = {0,0,he,h};
Point(3) = {r1,0,he,h};
Point(4) = {r2,0,he,h};
Point(5) = {rm,0,he,2*h};
Point(6) = {0,0,-he,h};
Point(7) = {r1,0,-he,h};
Point(8) = {r2,0,-he,h};
Point(9) = {rm,0,-he,2*h};
Point(10) = {0,0,he+r1,h};
Point(11) = {0,0,he+r2,h};
Point(12) = {0,0,he+rm,2*h};
Point(13) = {0,0,-(he+r1),h};
Point(14) = {0,0,-(he+r2),h};
Point(15) = {0,0,-(he+rm),2*h};
Point(16) = {0,0,he+rinf,5*h};
Point(17) = {rinf,0,he,5*h};
Point(18) = {rinf,0,-he,5*h};
Point(19) = {0,0,-(he+rinf),5*h};

Line(1) = {2,3};
Line(2) = {3,4};
Line(3) = {4,5};
Line(4) = {9,8};
Line(5) = {8,7};
Line(6) = {7,6};
Line(7) = {2,6};
Line(8) = {3,7};
Line(9) = {4,8};
Line(10) = {5,9};
Line(11) = {2,10};
Line(12) = {10,11};
Line(13) = {11,12};
Line(14) = {6,13};
Line(15) = {13,14};
Line(16) = {14,15};

Circle(17) = {10,2,3};
Circle(18) = {11,2,4};
Circle(19) = {12,2,5};
Circle(20) = {13,6,7};
Circle(21) = {14,6,8};
Circle(22) = {15,6,9};

Line(23) = {12,16};
Circle(24) = {16,2,17};
Line(25) = {5,17};
Line(26) = {17,18};
Line(27) = {18,9};
Line(28) = {15,19};
Circle(29) = {19,6,18};

Line Loop(1) = {1,8,6,-7};
Plane Surface(1) = {1};
Line Loop(2) = {2,9,5,-8};
Plane Surface(2) = {2};
Line Loop(3) = {3,10,4,-9};
Plane Surface(3) = {3};
Line Loop(4) = {11,17,-1};
Plane Surface(4) = {4};
Line Loop(5) = {12,18,-2,-17};
Plane Surface(5) = {5};
Line Loop(6) = {13,19,-3,-18};
Plane Surface(6) = {6};
Line Loop(7) = {14,20,6};
Plane Surface(7) = {7};
Line Loop(8) = {15,21,5,-20};
Plane Surface(8) = {8};
Line Loop(9) = {16,22,4,-21};
Plane Surface(9) = {9};

Line Loop(10) = {23,24,-25,-19};
Plane Surface(10) = {10};
Line Loop(11) = {25,26,27,-10};
Plane Surface(11) = {11};
Line Loop(12) = {28,29,27,-22};
Plane Surface(12) = {12};

out[] = Extrude{{0,0,1}, {0,0,0}, angle} {Surface{1,2,3,4,5,6,7,8,9,10,11,12};};
out1[] = Extrude{{0,0,1}, {0,0,0}, angle} {Surface{out[0],out[5],out[11],out[17],out[21],out[26],out[31],out[35],out[40],out[45],out[50],out[56]};};

Physical Volume("omega") = {out[6],out1[6]};
Physical Surface("V0") = {2};
Physical Surface("V1") = {out1[5]};
Physical Surface("top") = {out[7],out1[7]};
Physical Surface("Rext") = {out[8],out1[8]};
Physical Surface("bottom") = {out[9],out1[9]};
Physical Surface("Rint") = {out[10],out1[10]};
Physical Volume("air1") = {out[1],out1[1],out[12],out1[12],out[18],out1[18],out[22],out1[22],out[27],out1[27],out[32],out1[32],out[36],out1[36],out[41],out1[41]};
Physical Volume("airInf") = {out[46],out1[46],out[51],out1[51],out[57],out1[57]};
Physical Surface("air1_bd") = {1,3,4,5,6,7,8,9,out1[0],out1[11],out1[17],out1[21],out1[26],out1[31],out1[35],out1[40]};
Physical Surface("airMiddle") = {out[14],out1[14],out[28],out1[28],out[42],out1[42]};
Physical Surface("airInf_bd") = {10,11,12,out1[45],out1[50],out1[56],out[53],out1[53],out[47],out1[47],out[58],out1[58]};
Physical Line("Z0") = {7};
