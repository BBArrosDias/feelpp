// -*- mode: javascript -*-
{
    "Name": "ISO 10211:2007 Thermal bridges in building construction",
    "ShortName":"ThermalBridges",
    "Parameters":
    {
        "h_top":"1.0/0.06",
        "h_bottom":"1.0/0.11",
        "T0_top":0,
        "T0_bottom":20
    },
    "Materials":
    {
        "Concrete":
        {
            "markers":"mat1",
            "k":"1.15",//[ W/(m*K) ]
            "Cp":"880", //[ J/(kg*K) ]
            "rho":"2300" //[ kg/(m^3) ]
        },
        "Wood":
        {
            "markers":"mat2",
            "k":"0.12",//[ W/(m*K) ]
            "Cp":"2500", //[ J/(kg*K) ]
            "rho":"500" //[ kg/(m^3) ]
        },
        "Insulation":
        {
            "markers":"mat3",
            "k":"0.029",//[ W/(m*K) ]
            "Cp":"1000", //[ J/(kg*K) ]
            "rho":"150" //[ kg/(m^3) ]
        },
        "Aluminium":
        {
            "markers":"mat4",
            "k":"230",//[ W/(m*K) ]
            "Cp":"900", //[ J/(kg*K) ]
            "rho":"2700" //[ kg/(m^3) ]
        }

    },
    "BoundaryConditions":
    {
        "temperature":
        {
            "Robin":
            {
                "top":
                {
                    "expr1":"h_top:h_top",// h coeff
                    "expr2":"T0_top:T0_top"// temperature exterior
                },
                "bottom":
                {
                    "expr1":"h_bottom:h_bottom",// h coeff
                    "expr2":"T0_bottom:T0_bottom"// temperature exterior
                }
            }
        }
    },
    "PostProcess":
    {
        "Exports":
        {
            "fields":["temperature"]
        },
        "Save":
        {
            "Fields":
            {
                "names":["temperature"]
                //"format":"hdf5"
            }
        },
        "Measures":
        {
            "Normal-Heat-Flux":"bottom",
            "Statistics":
            {
                "Check_Heat-Flux_top":
                {
                    "type":"integrate",
                    "expr":"-heat_Concrete_k*heat_dnT - h_top*(heat_T-T0_top):heat_Concrete_k:heat_dnT:heat_T:h_top:T0_top",
                    "markers":"top"
                },
                "Check_Heat-Flux_bottom":
                {
                    "type":"integrate",
                    "expr":"-heat_Aluminium_k*heat_dnT - h_bottom*(heat_T-T0_bottom):heat_Aluminium_k:heat_dnT:heat_T:h_bottom:T0_bottom",
                    "markers":"bottom"
                },
                "Inward-Heat-Flux_bottom":
                {
                    "type":"integrate",
                    "expr":"-h_bottom*(heat_T-T0_bottom):heat_T:h_bottom:T0_bottom",
                    "markers":"bottom"
                }
            },
            "Points":
            {
                "pointA":
                {
                    "coord":"{0,0.0475}",
                    "fields":"temperature"
                },
                "pointB":
                {
                    "coord":"{0.5,0.0475}",
                    "fields":"temperature"
                },
                "pointC":
                {
                    "coord":"{0,0.0415}",
                    "fields":"temperature"
                },
                "pointD":
                {
                    "coord":"{0.015,0.0415}",
                    "fields":"temperature"
                },
                "pointE":
                {
                    "coord":"{0.5,0.0415}",
                    "fields":"temperature"
                },
                "pointF":
                {
                    "coord":"{0,0.0365}",
                    "fields":"temperature"
                },
                "pointG":
                {
                    "coord":"{0.015,0.0365}",
                    "fields":"temperature"
                },
                "pointH":
                {
                    "coord":"{0,0}",
                    "fields":"temperature"
                },
                "pointI":
                {
                    "coord":"{0.5,0}",
                    "fields":"temperature"
                }
            }
        },
        "Checkers":
        {
            "Measures":
            {
                "Points_pointA_temperature":
                {
                    "value":7.1,
                    "tolerance":1e-1
                },
                "Points_pointB_temperature":
                {
                    "value":0.8,
                    "tolerance":1e-1
                },
                "Points_pointC_temperature":
                {
                    "value":7.9,
                    "tolerance":1e-1
                },
                "Points_pointD_temperature":
                {
                    "value":6.3,
                    "tolerance":1e-1
                },
                "Points_pointE_temperature":
                {
                    "value":0.8,
                    "tolerance":1e-1
                },
                "Points_pointF_temperature":
                {
                    "value":16.4,
                    "tolerance":1e-1
                },
                "Points_pointG_temperature":
                {
                    "value":16.3,
                    "tolerance":1e-1
                },
                "Points_pointH_temperature":
                {
                    "value":16.8,
                    "tolerance":1e-1
                },
                "Points_pointI_temperature":
                {
                    "value":18.3,
                    "tolerance":1e-1
                },
                "Statistics_Check_Heat-Flux_top_integrate":
                {
                    "value":0,
                    "tolerance":0.5
                },
                "Statistics_Check_Heat-Flux_bottom_integrate":
                {
                    "value":0,
                    "tolerance":0.5
                },
                "Statistics_Inward-Heat-Flux_bottom_integrate":
                {
                    "value":9.5,
                    "tolerance":1e-1
                },
                "NormalHeatFlux_bottom":
                {
                    "value":9.5,
                    "tolerance":1e-1
                }
            }
        }
    }

}
