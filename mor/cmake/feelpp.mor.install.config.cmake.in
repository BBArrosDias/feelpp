
set(_FEELPP_CRB_CONFIG_LIB_FILE @FEELPP_CRB_CONFIG_LIB_FILE@)
set(FEELPP_CRB_SOURCE_DIR @FEELPP_CRB_SOURCE_DIR@)
set(FEELPP_CRB_BINARY_DIR @FEELPP_CRB_BINARY_DIR@)

if ( EXISTS ${_FEELPP_CRB_CONFIG_LIB_FILE} )

  set(FEELPP_CRB_DONT_SETUP_CMAKE 1)
  include( ${_FEELPP_CRB_CONFIG_LIB_FILE})
  unset(FEELPP_CRB_DONT_SETUP_CMAKE)

  set(FEELPP_CRB_LIBRARIES_TEXT)
  set(FEELPP_CRB_ALL_MODELS_CMAKE_VARIABLE_TEXT)
  foreach( _crbmodelVarName ${FEELPP_CRB_MODEL_LIBRARIES_CMAKE_VARIABLES})
    set(FEELPP_CRB_ALL_MODELS_CMAKE_VARIABLE_TEXT "${FEELPP_CRB_ALL_MODELS_CMAKE_VARIABLE_TEXT} \${${_crbmodelVarName}}")
    set(FEELPP_CRB_MODEL_LIBRARIES_INSTALL)
    foreach( _thelib ${${_crbmodelVarName}})
      get_filename_component( _libname ${_thelib} NAME)
      list(APPEND FEELPP_CRB_MODEL_LIBRARIES_INSTALL ${CMAKE_INSTALL_PREFIX}/lib/${_libname})
    endforeach()
    set(FEELPP_CRB_LIBRARIES_TEXT
      "${FEELPP_CRB_LIBRARIES_TEXT}\nset(${_crbmodelVarName} ${FEELPP_CRB_MODEL_LIBRARIES_INSTALL})")
  endforeach()
  set(FEELPP_CRB_LIBRARIES_TEXT
    "${FEELPP_CRB_LIBRARIES_TEXT}\nset(FEELPP_CRB_LIBRARIES ${FEELPP_CRB_ALL_MODELS_CMAKE_VARIABLE_TEXT})")

  file( WRITE ${FEELPP_CRB_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/feelpp.crb.libraries.config.cmake ${FEELPP_CRB_LIBRARIES_TEXT} )
  file( INSTALL ${FEELPP_CRB_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/feelpp.crb.libraries.config.cmake
    DESTINATION ${CMAKE_INSTALL_PREFIX}/share/feelpp/crb/cmake/ )


  set(FEELPP_CRB_INCLUDE_DIR_TEXT "set(FEELPP_CRB_INCLUDE_DIR ${CMAKE_INSTALL_PREFIX}/include/feelpp/crb )")
  file( WRITE ${FEELPP_CRB_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/feelpp.crb.includes.config.cmake ${FEELPP_CRB_INCLUDE_DIR_TEXT} )
  file( INSTALL ${FEELPP_CRB_BINARY_DIR}${CMAKE_FILES_DIRECTORY}/feelpp.crb.includes.config.cmake
    DESTINATION ${CMAKE_INSTALL_PREFIX}/share/feelpp/crb/cmake/ )

endif()